<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Requisição e Resposta via API</title>
</head>

<body>
    <h1>Requisição e Resposta via API</h1>
    <button type="button" id="btn-fetch">Fetch</button>
    <div id="resposta"></div>

    <script>
        const requisicao = new Request('http://localhost:3000/produtos', {
            method: 'GET',
            headers: {
                'Content-type': 'application/json'
            }
        });

        document.querySelector('#btn-fetch').addEventListener('click', () => {

            fetch(requisicao)
                .then(resposta => resposta.json())
                //    .then(resposta => JSON.stringify(resposta))
                //   .then(resposta => JSON.parse(resposta))
                .then(resposta => {

                    

                    for (let i = 0; i < resposta.length; i++) {

                        const div = document.createElement("ul");


                        const produto = `
                        <li>ID: ${resposta.id}</li>
                        <li>Descrição: ${resposta.descricao}</li>
                        <li>Preço: ${resposta.preco}</li>`

                        document.querySelector('#resposta').removeChild()
                        document.querySelector('#resposta').appendChild(div).innerHTML = produto;

                    }


                });
        })

    </script>

</body>

</html>